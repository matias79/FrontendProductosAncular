"use strict";(self.webpackChunkinterfazPedidos=self.webpackChunkinterfazPedidos||[]).push([[495],{9495:(y,g,c)=>{c.r(g),c.d(g,{AdministracionModule:()=>C});var h=c(9808),u=c(1196),t=c(1223),f=c(5374);let d=(()=>{class o{constructor(r,n){this.servicioSeguridad=r,this.router=n}canActivate(r,n){return!!this.servicioSeguridad.obtenerInformacionSesion()||(this.router.navigate(["/inicio"]),!1)}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(f.F),t.LFG(u.F0))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})(),v=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-crear-persona"]],decls:2,vars:0,template:function(r,n){1&r&&(t.TgZ(0,"h1"),t._uU(1,"hola"),t.qZA())},styles:[""]}),o})(),A=(()=>{class o{constructor(){}ngOnInit(){}}return o.\u0275fac=function(r){return new(r||o)},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-editar-persona"]],decls:2,vars:0,template:function(r,n){1&r&&(t.TgZ(0,"p"),t._uU(1,"editar-persona works!"),t.qZA())},styles:[""]}),o})();var l=c(520);let p=(()=>{class o{constructor(r,n){this.http=r,this.seguridadServicio=n,this.url="http://localhost:3000",this.token="",this.token=this.seguridadServicio.obtenerToken()}ObtenerRegistros(){return this.http.get(`${this.url}/productos`)}ObtenerRegistrosPorId(r){return this.http.get(`${this.url}/productos/${r}`)}CrearProducto(r){return this.http.post(`${this.url}/productos`,r,{headers:new l.WM({Authorization:`Bearer ${this.token}`})})}ActualizarProducto(r){return this.http.put(`${this.url}/productos/${r.id}`,r,{headers:new l.WM({Authorization:`Bearer ${this.token}`})})}eliminarProducto(r){return this.http.delete(`${this.url}/productos/${r}`,{headers:new l.WM({Authorization:`Bearer ${this.token}`})})}}return o.\u0275fac=function(r){return new(r||o)(t.LFG(l.eN),t.LFG(f.F))},o.\u0275prov=t.Yz7({token:o,factory:o.\u0275fac,providedIn:"root"}),o})();function b(o,i){if(1&o&&(t.TgZ(0,"tr"),t.TgZ(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._UZ(6,"img",3),t.qZA(),t.TgZ(7,"td"),t.TgZ(8,"a",4),t._uU(9,"Editar Producto"),t.qZA(),t.qZA(),t.qZA()),2&o){const r=i.$implicit;t.xp6(2),t.hij(" ",r.nombre," "),t.xp6(2),t.hij(" ",r.precio," "),t.xp6(2),t.s9C("src",r.imagen,t.LSH),t.xp6(2),t.MGl("routerLink","/administracion/editar-producto/",r.id,"")}}let P=(()=>{class o{constructor(r){this.productoServicio=r,this.listadoRegistros=[]}ngOnInit(){this.obtenerListadoProductos()}obtenerListadoProductos(){this.productoServicio.ObtenerRegistros().subscribe(r=>{this.listadoRegistros=r})}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(p))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-buscar-producto"]],decls:15,vars:1,consts:[["routerLink","/administracion/crear-producto",1,"btn"],[1,"table","responsive"],[4,"ngFor","ngForOf"],[1,"productoimg",3,"src"],[1,"btn",3,"routerLink"]],template:function(r,n){1&r&&(t.TgZ(0,"a",0),t._uU(1,"Nuevo Producto"),t.qZA(),t.TgZ(2,"table",1),t.TgZ(3,"thead"),t.TgZ(4,"tr"),t.TgZ(5,"th"),t._uU(6," Nombre "),t.qZA(),t.TgZ(7,"th"),t._uU(8," Precio "),t.qZA(),t.TgZ(9,"th"),t._uU(10," Imagen "),t.qZA(),t.TgZ(11,"th"),t._uU(12," Editar "),t.qZA(),t.qZA(),t.qZA(),t.TgZ(13,"tbody"),t.YNc(14,b,10,4,"tr",2),t.qZA(),t.qZA()),2&r&&(t.xp6(14),t.Q6J("ngForOf",n.listadoRegistros))},directives:[u.yS,h.sg],styles:[".productoimg[_ngcontent-%COMP%]{width:70px}"]}),o})();var e=c(2382);class Z{}const T=[{path:"crear-persona",component:v,canActivate:[d]},{path:"editar-persona",component:A,canActivate:[d]},{path:"listar-productos",component:P,canActivate:[d]},{path:"crear-producto",component:(()=>{class o{constructor(r,n,s){this.fb=r,this.servicioProducto=n,this.router=s,this.fgValidador=this.fb.group({nombre:["",[e.kI.required]],precio:["",[e.kI.required]],imagen:["",[e.kI.required]]})}ngOnInit(){}GuardarProducto(){let r=this.fgValidador.controls.nombres.value,n=parseInt(this.fgValidador.controls.precio.value),s=this.fgValidador.controls.imagen.value,a=new Z;a.nombre=r,a.precio=n,a.imagen=s,this.servicioProducto.CrearProducto(a).subscribe(m=>{alert("Producto almacenado correctamente"),this.router.navigate(["/administracion/listar-productos"])},m=>{alert("Error al amacenar el producto")})}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(e.qu),t.Y36(p),t.Y36(u.F0))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-crear-producto"]],decls:22,vars:2,consts:[[1,"row"],[1,"center-align"],[1,"col","s6","offset-s3"],["method","POST","action","forumulario-contacto.pht",3,"formGroup","ngSubmit"],[1,"input-field"],["for","nombre"],["formControlName","nombre","type","text","name","nombre","required",""],["for","precio"],["formControlName","precio","type","text","name","precio","required",""],["for","imagen"],["formControlName","imagen","type","text","name","imagen","required",""],["type","submit",1,"btn","waves-effect","waves-light",3,"disabled"],[1,"material-icons","right"]],template:function(r,n){1&r&&(t.TgZ(0,"div",0),t.TgZ(1,"h4",1),t._uU(2,"Crear Productos"),t.qZA(),t.TgZ(3,"article",2),t.TgZ(4,"form",3),t.NdJ("ngSubmit",function(){return n.GuardarProducto()}),t.TgZ(5,"div",4),t.TgZ(6,"label",5),t._uU(7,"Nombre"),t.qZA(),t._UZ(8,"input",6),t.qZA(),t.TgZ(9,"div",4),t.TgZ(10,"label",7),t._uU(11,"Precio"),t.qZA(),t._UZ(12,"input",8),t.qZA(),t.TgZ(13,"div",4),t.TgZ(14,"label",9),t._uU(15,"Imagen"),t.qZA(),t._UZ(16,"input",10),t.qZA(),t.TgZ(17,"p",1),t.TgZ(18,"button",11),t.TgZ(19,"i",12),t._uU(20,"send"),t.qZA(),t._uU(21,"Enviar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA()),2&r&&(t.xp6(4),t.Q6J("formGroup",n.fgValidador),t.xp6(14),t.Q6J("disabled",!n.fgValidador.valid))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,e.Q7],styles:[""]}),o})(),canActivate:[d]},{path:"editar-producto/:id",component:(()=>{class o{constructor(r,n,s,a){this.fb=r,this.servicioProducto=n,this.router=s,this.route=a,this.id="",this.fgValidador=this.fb.group({id:["",[e.kI.required]],nombre:["",[e.kI.required]],precio:["",[e.kI.required]],imagen:["",[e.kI.required]]})}ngOnInit(){this.id=this.route.snapshot.params.id,this.BuscarProducto()}BuscarProducto(){this.servicioProducto.ObtenerRegistrosPorId(this.id).subscribe(r=>{this.fgValidador.controls.id.setValue(this.id),this.fgValidador.controls.nombre.setValue(r.nombre),this.fgValidador.controls.precio.setValue(r.precio),this.fgValidador.controls.imagen.setValue(r.imagen)})}EditarProducto(){let r=this.fgValidador.controls.nombre.value,n=parseInt(this.fgValidador.controls.precio.value),s=this.fgValidador.controls.imagen.value,a=new Z;a.nombre=r,a.precio=n,a.imagen=s,a.id=this.id,this.servicioProducto.ActualizarProducto(a).subscribe(m=>{alert("Producto actualizado correctamente"),this.router.navigate(["/administracion/listar-productos"])},m=>{alert("Error al actualizar el producto")})}}return o.\u0275fac=function(r){return new(r||o)(t.Y36(e.qu),t.Y36(p),t.Y36(u.F0),t.Y36(u.gz))},o.\u0275cmp=t.Xpm({type:o,selectors:[["app-editar-producto"]],decls:24,vars:2,consts:[[1,"row"],[1,"center-align"],[1,"col","s6","offset-s3"],["method","POST","action","forumulario-contacto.pht",3,"formGroup","ngSubmit"],[1,"input-field"],["for","nombre",1,"active"],["formControlName","nombre","type","text","name","nombre","required",""],["for","precio",1,"active"],["formControlName","precio","type","text","name","precio","required",""],["for","imagen",1,"active"],["formControlName","imagen","type","text","name","imagen","required",""],["type","submit",1,"btn","waves-effect","waves-light",3,"disabled"],[1,"material-icons","right"]],template:function(r,n){1&r&&(t.TgZ(0,"fieldset"),t.TgZ(1,"div",0),t.TgZ(2,"h4",1),t._uU(3,"Crear Productos"),t.qZA(),t.TgZ(4,"article",2),t.TgZ(5,"form",3),t.NdJ("ngSubmit",function(){return n.EditarProducto()}),t.TgZ(6,"div",4),t.TgZ(7,"label",5),t._uU(8,"Nombre"),t.qZA(),t._UZ(9,"input",6),t.qZA(),t.TgZ(10,"div",4),t.TgZ(11,"label",7),t._uU(12,"Precio"),t.qZA(),t._UZ(13,"input",8),t.qZA(),t.TgZ(14,"div",4),t.TgZ(15,"label",9),t._uU(16,"Imagen"),t.qZA(),t._UZ(17,"input",10),t.qZA(),t.TgZ(18,"p",1),t.TgZ(19,"button",11),t.TgZ(20,"i",12),t._uU(21,"send"),t.qZA(),t._uU(22,"Enviar"),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t.qZA(),t._UZ(23,"fieldset"),t.qZA()),2&r&&(t.xp6(5),t.Q6J("formGroup",n.fgValidador),t.xp6(14),t.Q6J("disabled",!n.fgValidador.valid))},directives:[e._Y,e.JL,e.sg,e.Fj,e.JJ,e.u,e.Q7],styles:[""]}),o})(),canActivate:[d]}];let q=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[u.Bz.forChild(T)],u.Bz]}),o})(),C=(()=>{class o{}return o.\u0275fac=function(r){return new(r||o)},o.\u0275mod=t.oAB({type:o}),o.\u0275inj=t.cJS({imports:[[h.ez,q,e.u5,e.UX]]}),o})()}}]);